-- UI Library (Simple)
local UILibrary = {}

function UILibrary:CreateWindow(config)
    config = config or {}
    local windowName = config.Name or "Window"

    -- ScreenGui
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Parent = game:GetService("CoreGui")
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

    -- Main Frame
    local Frame = Instance.new("Frame")
    Frame.Size = UDim2.new(0, 504, 0, 348)
    Frame.Position = UDim2.new(0.35, 0, 0.18, 0)
    Frame.BackgroundColor3 = Color3.fromRGB(24, 24, 24)
    Frame.BorderSizePixel = 0
    Frame.Parent = ScreenGui

    -- Dragging
    local dragging, dragStart, startPos
    Frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = Frame.Position
        end
    end)
    Frame.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
    game:GetService("UserInputService").InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local delta = input.Position - dragStart
            Frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)

    -- Header
    local header = Instance.new("Frame")
    header.Size = UDim2.new(1, 0, 0, 30)
    header.BackgroundColor3 = Color3.fromRGB(14, 14, 14)
    header.BorderSizePixel = 0
    header.Parent = Frame

    local title = Instance.new("TextLabel")
    title.BackgroundTransparency = 1
    title.Position = UDim2.new(0.21, 0, 0, 0)
    title.Size = UDim2.new(0.7, 0, 1, 0)
    title.Text = windowName
    title.TextColor3 = Color3.new(1, 1, 1)
    title.FontFace = Font.new("rbxasset://fonts/families/RobotoMono.json", Enum.FontWeight.SemiBold)
    title.TextXAlignment = Enum.TextXAlignment.Left
    title.TextSize = 14
    title.Parent = header

    -- Logo
    local Logo = Instance.new("ImageLabel")
    Logo.BackgroundTransparency = 1
    Logo.Size = UDim2.new(0, 30, 0, 30)
    Logo.Image = "rbxassetid://90362415610289"
    Logo.Parent = header

    -- Tabs
    local Tabs = Instance.new("Frame")
    Tabs.Size = UDim2.new(0, 100, 0, 318)
    Tabs.Position = UDim2.new(0, 0, 0.086, 0)
    Tabs.BackgroundColor3 = Color3.fromRGB(14, 14, 14)
    Tabs.Parent = Frame

    local TabList = Instance.new("UIListLayout")
    TabList.Parent = Tabs
    TabList.SortOrder = Enum.SortOrder.LayoutOrder

    -- Tab Holder for Pages
    local tabHolder = Instance.new("Frame")
    tabHolder.BackgroundTransparency = 1
    tabHolder.Size = UDim2.new(0, 404, 0, 318)
    tabHolder.Position = UDim2.new(0.198, 0, 0.086, 0)
    tabHolder.Parent = Frame

    -- Resizer
    local Resizer = Instance.new("ImageButton")
    Resizer.Image = "rbxassetid://10723346553"
    Resizer.BackgroundTransparency = 1
    Resizer.Size = UDim2.new(0, 20, 0, 20)
    Resizer.Position = UDim2.new(1, -20, 1, -20)
    Resizer.Parent = Frame

    local resizing = false
    Resizer.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            resizing = true
        end
    end)
    Resizer.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            resizing = false
        end
    end)
    game:GetService("UserInputService").InputChanged:Connect(function(input)
        if resizing and input.UserInputType == Enum.UserInputType.MouseMovement then
            Frame.Size = UDim2.new(0, math.max(250, input.Position.X - Frame.AbsolutePosition.X),
                                   0, math.max(150, input.Position.Y - Frame.AbsolutePosition.Y))
        end
    end)

    -- API
    local window = {}

    function window:CreateTab(tabName)
        local tabButton = Instance.new("TextButton")
        tabButton.Text = tabName
        tabButton.Size = UDim2.new(1, 0, 0, 30)
        tabButton.FontFace = Font.new("rbxasset://fonts/families/RobotoMono.json")
        tabButton.TextColor3 = Color3.new(1, 1, 1)
        tabButton.BackgroundTransparency = 1
        tabButton.Parent = Tabs

        local tabPage = Instance.new("Frame")
        tabPage.Size = UDim2.new(1, 0, 1, 0)
        tabPage.Visible = false
        tabPage.BackgroundTransparency = 1
        tabPage.Parent = tabHolder

        tabButton.MouseButton1Click:Connect(function()
            for _, v in ipairs(tabHolder:GetChildren()) do
                if v:IsA("Frame") then v.Visible = false end
            end
            tabPage.Visible = true
        end)

        return tabPage
    end

    return window
end

return UILibrary
